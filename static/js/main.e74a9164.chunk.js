(this["webpackJsonpreact-social-app"]=this["webpackJsonpreact-social-app"]||[]).push([[0],{26:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},55:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(27),o=a.n(c),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),c(e),o(e)}))},r=a(6),l=a(2),u=a(0),j=Object(s.createContext)(null),d=function(e){var t=Object(s.useState)(localStorage.getItem("jwt_token")),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(!1),i=Object(l.a)(o,2),r=i[0],d=i[1],b=Object(s.useState)(!1),p=Object(l.a)(b,2),m=p[0],f=p[1],h=Object(s.useState)(!1),O=Object(l.a)(h,2),g=O[0],x=O[1],N=Object(s.useState)(!1),w=Object(l.a)(N,2),v=w[0],S=w[1],C=Object(s.useState)(""),y=Object(l.a)(C,2),k=y[0],D=y[1],I=Object(s.useState)(""),T=Object(l.a)(I,2),P=T[0],F=T[1],L=Object(s.useState)([]),_=Object(l.a)(L,2),E=_[0],U=_[1],J=Object(s.useState)(!1),A=Object(l.a)(J,2),V=A[0],R=A[1],B=Object(s.useState)(!1),W=Object(l.a)(B,2),Y=W[0],z=W[1],$=Object(s.useState)(""),H=Object(l.a)($,2),M=H[0],q=H[1],G=Object(s.useState)(!1),K=Object(l.a)(G,2),Q=K[0],X=K[1],Z=Object(s.useState)(!1),ee=Object(l.a)(Z,2),te=ee[0],ae=ee[1],se=Object(s.useState)(null),ne=Object(l.a)(se,2),ce=ne[0],oe=ne[1],ie={headers:{"Content-Type":"application/json",Accept:"application/json"}},re={headers:{headerConfig:ie,Authorization:"Bearer "+localStorage.getItem("jwt_token")}};return Object(u.jsx)(j.Provider,{value:{isLogged:n,setIsLogged:c,headerConfig:ie,headerConfigAuth:re,loginDisplay:r,setLoginDisplay:d,downbarContent:k,setDownbarContent:D,downbarDisplay:v,setDownbarDisplay:S,searchedPostTrigger:V,setSearchedPostTrigger:R,postBrowserValue:P,setPostBrowserValue:F,searchedPostResult:E,setSearchedPostResult:U,confirmationDisplay:te,setConfirmationDisplay:ae,postId:ce,setPostId:oe,postToggler:g,setPostToggler:x,followToggler:m,setFollowToggler:f,searchedUserTrigger:Y,setSearchedUserTrigger:z,profileInputInfo:M,setProfileInputInfo:q,searchedPostToggler:Q,setSearchedPostToggler:X},children:e.children})},b=(a(35),a(4)),p=(a(36),a(3)),m=a.n(p),f=(a(55),function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)("nav"),o=Object(l.a)(c,2),i=o[0],d=o[1],b=Object(s.useContext)(j),p=b.isLogged,f=b.setIsLogged,h=b.headerConfigAuth,O=b.setDownbarContent,g=b.setDownbarDisplay,x=b.setPostBrowserValue,N=b.setSearchedPostResult,w=b.setSearchedUserTrigger,v=b.setSearchedPostTrigger,S=b.followToggler,C=b.setFollowToggler,y=function(){var e=window.pageYOffset;n(e),e>122&&window.location.href.endsWith("react-social-app/")||e>122&&window.location.href.endsWith("react-social-app")?d("nav nav-sticky nav-on-scroll"):d("nav")};Object(s.useEffect)((function(){return window.addEventListener("scroll",y),function(){window.removeEventListener("scroll",y)}}),[a]);var k=function(){w(!1),v(!1),N([]),x(""),C(!S)};return Object(u.jsx)("nav",{className:i,children:Object(u.jsxs)("ul",{className:"nav-list",children:[Object(u.jsx)("li",{className:"nav-list-item",children:Object(u.jsxs)(r.b,{className:"nav-link",to:"/react-social-app/",onClick:k,children:[Object(u.jsx)("i",{className:"fas fa-home nav-link-icon"}),"Home"]})}),!p&&Object(u.jsx)("li",{className:"nav-list-item",children:Object(u.jsxs)(r.b,{className:"nav-link",to:"/react-social-app/signup",children:[Object(u.jsx)("i",{className:"fas fa-user-plus nav-link-icon"}),"Sign up"]})}),!p&&Object(u.jsx)("li",{className:"nav-list-item",children:Object(u.jsxs)(r.b,{className:"nav-link",to:"/react-social-app/login",children:[Object(u.jsx)("i",{className:"fas fa-sign-in-alt nav-link-icon"}),"Log in"]})}),p&&Object(u.jsx)("li",{className:"nav-list-item",children:Object(u.jsxs)(r.b,{className:"nav-link",to:"/react-social-app/followed",onClick:k,children:[Object(u.jsx)("i",{className:"fas fa-user-friends nav-link-icon"}),"Followed"]})}),p&&Object(u.jsx)("li",{className:"nav-list-item",children:Object(u.jsxs)(r.b,{className:"nav-link",to:"/react-social-app/",onClick:function(){m.a.post("https://akademia108.pl/api/social-app/user/logout",JSON.stringify(),h).then((function(){localStorage.removeItem("name"),localStorage.removeItem("jwt_token"),f(localStorage.getItem("jwt_token")),g(!0),O("Logged out"),k()})).catch((function(e){console.error(e)}))},children:[Object(u.jsx)("i",{className:"fas fa-sign-out-alt nav-link-icon"}),"Log out"]})})]})})}),h=(a(61),a(62),function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(l.a)(c,2),i=o[0],d=o[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),h=f[0],O=f[1],g=Object(s.useState)(""),x=Object(l.a)(g,2),N=x[0],w=x[1],v=Object(s.useState)(!1),S=Object(l.a)(v,2),C=S[0],y=S[1],k=Object(s.useContext)(j),D=k.setIsLogged,I=k.headerConfig,T=k.setDownbarContent,P=k.setDownbarDisplay,F=k.setLoginDisplay;return C?Object(u.jsx)(b.a,{to:"/react-social-app/"}):Object(u.jsxs)("form",{className:"login-form",onSubmit:function(e){e.preventDefault();var t={username:a,password:i,ttl:3600};m.a.post("https://akademia108.pl/api/social-app/user/login",JSON.stringify(t),I).then((function(e){localStorage.setItem("name",e.data.username),localStorage.setItem("jwt_token",e.data.jwt_token),D(e.data.jwt_token),P(!0),T("Logged in")})).catch((function(e){console.error(e)})),F(!1),y(!0)},children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name:"}),Object(u.jsx)("input",{id:"name",type:"text",placeholder:"Username",autoComplete:"new-password",onChange:function(e){return n(e.target.value)},className:h?"form-text-input warning":"form-text-input"}),Object(u.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{id:"password",type:"password",placeholder:"Password",onChange:function(e){return d(e.target.value)},className:N?"form-text-input warning":"form-text-input"}),Object(u.jsx)("input",{type:"submit",value:"Log in",onClick:function(e){var t=new RegExp("^(?=.{4,})"),s=new RegExp("^(?=.*[0-9])(?=.{4,})");t.test(a)?O(""):(e.preventDefault(),O("There is no user with that name, please sign up or check the username again")),s.test(i)?w(""):(e.preventDefault(),w("Invalid password, check it again"))},className:"form-submit-input"}),Object(u.jsxs)("ul",{className:"form-warning-list",children:[Object(u.jsx)("li",{className:"warning-item",children:!(h||N)&&"Don't have an account yet? Create it now and enjoy..."}),Object(u.jsx)("li",{className:"warning-item",children:h}),Object(u.jsx)("li",{className:"warning-item",children:N})]}),Object(u.jsx)(r.b,{className:"form-redirection-link",to:"/react-social-app/signup",onClick:function(){return F(!1)},children:"Sign up"})]})}),O=(a(63),function(){var e=Object(s.useContext)(j),t=e.loginDisplay,a=e.setLoginDisplay;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(r.b,{className:"closer-link",to:"/react-social-app/",onClick:function(){t&&a(!1)},children:Object(u.jsx)("i",{className:"fas fa-times"})})})}),g=function(){var e=Object(s.useContext)(j).loginDisplay;return Object(u.jsxs)("div",{className:e?"login login-popup":"login",children:[Object(u.jsxs)("h3",{className:"login-header",children:["Log in",Object(u.jsx)("i",{className:"fas fa-sign-in-alt login-header-icon"})]}),Object(u.jsx)(h,{}),Object(u.jsx)(O,{})]})},x=(a(64),a(65),function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(l.a)(c,2),i=o[0],d=o[1],p=Object(s.useState)(""),f=Object(l.a)(p,2),h=f[0],O=f[1],g=Object(s.useState)(""),x=Object(l.a)(g,2),N=x[0],w=x[1],v=Object(s.useState)(""),S=Object(l.a)(v,2),C=S[0],y=S[1],k=Object(s.useState)(""),D=Object(l.a)(k,2),I=D[0],T=D[1],P=Object(s.useState)(""),F=Object(l.a)(P,2),L=F[0],_=F[1],E=Object(s.useState)(!1),U=Object(l.a)(E,2),J=U[0],A=U[1],V=Object(s.useContext)(j),R=V.headerConfig,B=V.setDownbarContent,W=V.setDownbarDisplay;return J?Object(u.jsx)(b.a,{to:"/react-social-app/login"}):Object(u.jsxs)("form",{className:"signup-form",onSubmit:function(e){e.preventDefault();var t={username:a,email:i,password:h};m.a.post("https://akademia108.pl/api/social-app/user/signup",JSON.stringify(t),R).then((function(e){localStorage.setItem("name",e.data.user.username),W(!0),B("Signed up")})).catch((function(e){console.error(e)})),A(!0)},children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name:"}),Object(u.jsx)("input",{id:"name",type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)},className:C?"form-text-input warning":"form-text-input"}),Object(u.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{id:"email",type:"email",placeholder:"User e-mail",onChange:function(e){d(e.target.value)},className:I?"form-text-input warning":"form-text-input"}),Object(u.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{id:"password",type:"password",placeholder:"Password",onChange:function(e){O(e.target.value)},className:L?"form-text-input warning":"form-text-input"}),Object(u.jsx)("label",{className:"form-label",htmlFor:"confirm",children:"Confirm:"}),Object(u.jsx)("input",{id:"confirm",type:"password",placeholder:"Confirm password",onChange:function(e){w(e.target.value)},className:L?"form-text-input warning":"form-text-input"}),Object(u.jsx)("input",{type:"submit",value:"Sign up",onClick:function(e){var t=new RegExp("^(?=.{4,})"),s=new RegExp("^(?=.{2,})(?=.*[@])"),n=new RegExp("^(?=.*[a-z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{6,})");!t.test(a)||/\s/.test(a)?(e.preventDefault(),y("Name field cannot be empty, cannot include white spaces and should have min. 4 chars")):y(""),!s.test(i)||/\s/.test(i)?(e.preventDefault(),T("Email address cannot be empty, cannot include white spaces - should be like: name@domain.com")):T(""),n.test(h)&&h===N?_(""):(e.preventDefault(),_("Password field cannot be empty, should have min. 6 chars, at least 1 digit and at least 1 of special chars: ! @ # $ % ^ & *"))},className:"form-submit-input"}),Object(u.jsxs)("ul",{className:"form-warning-list",children:[Object(u.jsx)("li",{className:"warning-item",children:C||I||L?null:"Already registered? Log in now and enjoy..."}),Object(u.jsx)("li",{className:"warning-item",children:C}),Object(u.jsx)("li",{className:"warning-item",children:I}),Object(u.jsx)("li",{className:"warning-item",children:L})]}),Object(u.jsx)(r.b,{className:"form-redirection-link",to:"/react-social-app/login",children:"Log in"})]})}),N=function(){return Object(u.jsxs)("div",{className:"signup",children:[Object(u.jsxs)("h3",{className:"signup-header",children:["Sign up",Object(u.jsx)("i",{className:"fas fa-user-plus signup-header-icon"})]}),Object(u.jsx)(x,{}),Object(u.jsx)(O,{})]})},w=(a(66),a(67),function(e){var t=Object(s.useContext)(j),a=t.headerConfigAuth,n=t.setDownbarContent,c=t.setDownbarDisplay,o=t.followToggler,i=t.setFollowToggler;return Object(u.jsx)("ul",{className:"all-followed-list",children:e.allFollowed.map((function(e){return Object(u.jsxs)("li",{className:"followed-list-item",children:[Object(u.jsx)("img",{src:e.avatar_url,alt:"user_avatar",className:"followed-user-avatar"}),Object(u.jsxs)("div",{className:"followed-user-data",children:[Object(u.jsx)("p",{className:"followed-user-name",children:e.username}),Object(u.jsx)("p",{className:"followed-user-email",children:e.email})]}),Object(u.jsx)("div",{className:"unfollow-icon",onClick:function(){var t;t=e.id,m.a.post("https://akademia108.pl/api/social-app/follows/disfollow",JSON.stringify({leader_id:t}),a).then((function(){i(!o),c(!0),n("Follow has been removed")})).catch((function(e){console.error(e)}))},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-minus"})})]},e.id)}))})}),v=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useContext)(j),o=c.isLogged,i=c.headerConfigAuth,r=c.followToggler;return Object(s.useEffect)((function(){o&&m.a.post("https://akademia108.pl/api/social-app/follows/allfollows",JSON.stringify(),i).then((function(e){n(e.data)})).catch((function(e){console.error(e)}))}),[o,r]),Object(u.jsxs)("div",{className:"all-followed",children:[Object(u.jsxs)("h3",{className:"all-followed-header",children:["Followed",Object(u.jsx)("i",{className:"fas fa-user-friends header-icon"})]}),Object(u.jsx)(w,{allFollowed:a}),0===a.length&&Object(u.jsx)("p",{className:"all-followed-info",children:"Seems like you don't follow anyone..."}),Object(u.jsx)(O,{})]})},S=(a(68),a(69),a(70),function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(l.a)(c,2),i=o[0],r=o[1],d=Object(s.useState)(""),b=Object(l.a)(d,2),p=b[0],f=b[1],h=Object(s.useContext)(j),O=h.isLogged,g=h.headerConfigAuth;return Object(s.useEffect)((function(){O&&m.a.post("https://akademia108.pl/api/social-app/user/profile",JSON.stringify(),g).then((function(e){r(e.data.username),f(e.data.email),n(e.data.avatar_url)})).catch((function(e){console.error(e)}))}),[O]),Object(u.jsxs)("div",{className:"profile-data",children:[Object(u.jsx)("img",{src:a,alt:"profile_avatar",className:"profile-avatar"}),Object(u.jsx)("p",{className:"profile-name",children:i}),Object(u.jsx)("p",{className:"profile-email",children:p})]})}),C=(a(26),a(71),a(29)),y=a.n(C),k=(a(73),function(e){var t=Object(s.useState)(e.post.likes),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useContext)(j),i=o.isLogged,r=o.headerConfigAuth,d=o.setDownbarContent,b=o.setDownbarDisplay;return Object(u.jsxs)("div",{className:"post-info",children:[Object(u.jsx)("span",{className:"post-date",children:y()(e.post.created_at).fromNow()}),Object(u.jsxs)("div",{className:"like-container",children:[Object(u.jsx)("span",{className:"like-counter",children:n.length}),i&&Object(u.jsx)("i",{className:n.filter((function(e){return e.username===localStorage.getItem("name")})).length>0?"far fa-heart like-icon-active":"far fa-heart like-icon",onClick:function(){var t;n.filter((function(e){return e.username===localStorage.getItem("name")})).length>0?(t=e.post.id,m.a.post("https://akademia108.pl/api/social-app/post/dislike",JSON.stringify({post_id:t}),r).then((function(){c(n.filter((function(e){return e.username!==localStorage.getItem("name")}))),d("Like has been removed"),b(!0)})).catch((function(e){console.error(e)}))):function(e){m.a.post("https://akademia108.pl/api/social-app/post/like",JSON.stringify({post_id:e}),r).then((function(){c(n.concat({username:localStorage.getItem("name")})),d("Like has been added"),b(!0)})).catch((function(e){console.error(e)}))}(e.post.id)},tabIndex:"0"}),!i&&Object(u.jsx)("i",{className:"far fa-heart like-icon-disabled",tabIndex:"0"})]})]})}),D=(a(74),function(e){var t=Object(s.useContext)(j),a=t.setConfirmationDisplay,n=t.setPostId;return Object(u.jsx)(u.Fragment,{children:e.post.user.username===localStorage.getItem("name")&&Object(u.jsx)("div",{className:"delete-icon",onClick:function(){var t;t=e.post.id,a(!0),n(t)},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-times"})})})}),I=(a(75),function(){var e=Object(s.useContext)(j),t=e.headerConfigAuth,a=e.setDownbarContent,n=e.setDownbarDisplay,c=e.postToggler,o=e.setPostToggler,i=e.postId,r=e.setConfirmationDisplay;return Object(u.jsxs)("div",{className:"confirmation-popup",children:[Object(u.jsx)("p",{className:"popup-text",children:"Do you really want to delete this post?"}),Object(u.jsxs)("div",{className:"popup-button-container",children:[Object(u.jsx)("button",{className:"popup-button yes",onClick:function(){return e=i,m.a.post("https://akademia108.pl/api/social-app/post/delete",JSON.stringify({post_id:e}),t).then((function(){o(!c),n(!0),a("Post has been removed")})).catch((function(e){console.error(e)})),void r(!1);var e},children:Object(u.jsx)("i",{className:"fas fa-check"})}),Object(u.jsx)("button",{className:"popup-button no",onClick:function(){return r(!1)},children:Object(u.jsx)("i",{className:"fas fa-times"})})]})]})}),T=function(){var e=Object(s.useContext)(j),t=e.isLogged,a=e.headerConfigAuth,n=e.postId,c=e.postToggler,o=e.postBrowserValue,i=e.setPostBrowserValue,r=e.searchedPostTrigger,l=e.setSearchedPostTrigger,d=e.searchedPostResult,b=e.setSearchedPostResult,p=e.confirmationPopup,f=e.setConfirmationPopup,h=e.followToggler,O=e.setFollowToggler,g=e.setDownbarDisplay,x=e.setDownbarContent,N=e.profileInputInfo,w=e.setProfileInputInfo,v=e.searchedPostToggler;Object(s.useEffect)((function(){if(""===o)return b([]);m.a.post("https://akademia108.pl/api/social-app/post/older-then",JSON.stringify({date:o}),a).then((function(e){b(e.data),0===e.data.length&&w("There are no older posts for the date you entered, check date again and keep looking")})).catch((function(e){console.error(e)}))}),[c,h,N,v]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"searched-post-result",children:Object(u.jsxs)("ul",{className:"searched-post-list",children:[0===d.length?Object(u.jsx)("div",{className:"result-list-info-container",children:Object(u.jsx)("p",{className:"result-list-info",children:N})}):d.map((function(e){return Object(u.jsxs)("li",{className:"result-list-item",children:[Object(u.jsxs)("div",{className:"result-list-item-author-container",children:[Object(u.jsx)("img",{src:e.user.avatar_url,alt:"user_avatar",className:"author-container-user-avatar"}),Object(u.jsxs)("div",{className:"author-container-user-data",children:[Object(u.jsx)("p",{className:"author-container-user-name",children:e.user.username}),Object(u.jsx)("span",{className:"author-container-user-email",children:e.user.email})]}),t&&e.user.username!==localStorage.getItem("name")&&Object(u.jsx)("div",{className:"unfollow-icon",onClick:function(){var t;t=e.user.id,m.a.post("https://akademia108.pl/api/social-app/follows/disfollow",JSON.stringify({leader_id:t}),a).then((function(){O(!h),g(!0),x("Follow has been removed")})).catch((function(e){console.error(e)}))},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-minus"})}),Object(u.jsx)(D,{post:e,setConfirmationPopup:f})]}),Object(u.jsx)("p",{className:"result-list-item-post-content",children:e.content}),Object(u.jsx)(k,{post:e})]},e.id)})),p&&Object(u.jsx)("aside",{className:"app-popup-bg",children:Object(u.jsx)(I,{setConfirmationPopup:f,postId:n})})]})}),r&&Object(u.jsx)("div",{className:"result-list-result-closer",onClick:function(){l(!1),b([]),i("")},children:Object(u.jsx)("i",{className:"fas fa-times"})})]})},P=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useContext)(j),o=c.headerConfigAuth,i=c.postToggler,r=c.setPostToggler,d=c.setDownbarDisplay,b=c.setDownbarContent,p=c.postBrowserValue,f=c.setPostBrowserValue,h=c.searchedPostTrigger,O=c.setSearchedPostTrigger,g=c.searchedPostResult,x=c.setSearchedPostResult,N=c.setProfileInputInfo,w=c.searchedPostToggler,v=c.setSearchedPostToggler,S=function(e){e.preventDefault(),x([]),O(!1),""===a?(O(!0),N("Post field cannot be empty, type what's on your mind and share it with your friends")):m.a.post("https://akademia108.pl/api/social-app/post/add",JSON.stringify({content:a}),o).then((function(){g||O(!1),r(!i),d(!0),b("Post has been added")})).catch((function(e){console.error(e)})),n(""),f("")},C=function(e){e.preventDefault(),O(!0),v(!w),""===p&&N("Date field cannot be empty, enter date and find post that you looking for")};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{className:"profile-input-container",onSubmit:S,children:[Object(u.jsx)("input",{type:"text",placeholder:"write some post",value:a,onChange:function(e){return n(e.target.value)},className:"input-container-text-input"}),Object(u.jsx)("button",{className:"input-container-button",onClick:S,children:Object(u.jsx)("i",{className:"fas fa-pen-alt"})})]}),Object(u.jsxs)("form",{className:"profile-input-container",onSubmit:C,children:[Object(u.jsx)("input",{type:"date",value:p,onChange:function(e){return f(e.target.value)},className:"input-container-text-input"}),Object(u.jsx)("button",{className:"input-container-button",onClick:C,children:Object(u.jsx)("i",{className:"fas fa-search"})}),h&&Object(u.jsx)(T,{})]})]})},F=function(){return Object(u.jsxs)("div",{className:"dashboard-profile",children:[Object(u.jsxs)("h3",{className:"profile-header",children:["Your profile",Object(u.jsx)("i",{className:"far fa-id-card profile-header-icon"})]}),Object(u.jsx)(S,{}),Object(u.jsx)(P,{})]})},L=(a(76),a(77),function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useContext)(j),i=o.isLogged,r=o.headerConfigAuth,d=o.followToggler;return Object(s.useEffect)((function(){i&&m.a.post("https://akademia108.pl/api/social-app/follows/recommendations",JSON.stringify(),r).then((function(e){c(e.data)})).catch((function(e){console.error(e)}))}),[d,i]),Object(u.jsx)("ul",{className:"recommendations-list",children:0===n.length?Object(u.jsx)("div",{className:"recommendations-info-container",children:Object(u.jsx)("p",{className:"recommendations-info",children:"Seems like there is no more users you may follow..."})}):n.map((function(t){return Object(u.jsxs)("li",{className:"recommendations-list-item",children:[Object(u.jsx)("img",{src:t.avatar_url,alt:"user_avatar",className:"recommended-user-avatar"}),Object(u.jsxs)("div",{className:"recommended-user-data",children:[Object(u.jsx)("p",{className:"recommended-user-name",children:t.username}),Object(u.jsx)("p",{className:"recommended-user-email",children:t.email})]}),Object(u.jsx)("div",{className:"follow-icon",onClick:function(){e.followUser(t.id)},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-plus"})})]},t.id)}))})}),_=(a(78),function(e){var t=Object(s.useContext)(j).setSearchedUserTrigger;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"searched-user-result",children:e.usersInputInfo?Object(u.jsx)("div",{className:"searched-user-info-container",children:Object(u.jsx)("p",{className:"searched-user-info",children:e.usersInputInfo})}):Object(u.jsxs)("div",{className:"searched-user",children:[Object(u.jsx)("img",{src:e.searchedUserAvatar,alt:"user_avatar",className:"searched-user-avatar"}),Object(u.jsxs)("div",{className:"searched-user-data",children:[Object(u.jsx)("p",{className:"searched-user-data-name",children:e.searchedUserName}),Object(u.jsx)("p",{className:"searched-user-data-email",children:e.searchedUserEmail})]}),Object(u.jsx)("div",{className:"follow-icon",onClick:function(){e.followUser(e.searchedUserId)},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-plus"})})]})}),Object(u.jsx)("div",{className:"searched-user-result-closer",onClick:function(){t(!1)},children:Object(u.jsx)("i",{className:"fas fa-times"})})]})}),E=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(""),i=Object(l.a)(o,2),r=i[0],d=i[1],b=Object(s.useState)(""),p=Object(l.a)(b,2),f=p[0],h=p[1],O=Object(s.useState)(""),g=Object(l.a)(O,2),x=g[0],N=g[1],w=Object(s.useState)(""),v=Object(l.a)(w,2),S=v[0],C=v[1],y=Object(s.useState)(""),k=Object(l.a)(y,2),D=k[0],I=k[1],T=Object(s.useState)(""),P=Object(l.a)(T,2),F=P[0],L=P[1],E=Object(s.useContext)(j),U=E.headerConfigAuth,J=E.searchedUserTrigger,A=E.setSearchedUserTrigger,V=function(e){e.preventDefault(),""===x?(A(!0),L("Name field cannot be empty, type exact name and find your friend")):(m.a.post("https://akademia108.pl/api/social-app/user/check-username",JSON.stringify({username:x}),U).then((function(e){d(e.data.username),h(e.data.email),c(e.data.avatar_url),L(e.data.message),I(e.data.id),A(!0)})).catch((function(e){console.error(e)})),N(""))},R=function(e){e.preventDefault(),""===S?(L("Email field cannot be empty, type correct address and find your friend"),A(!0)):(m.a.post("https://akademia108.pl/api/social-app/user/check-email",JSON.stringify({email:S}),U).then((function(e){d(e.data.username),h(e.data.email),c(e.data.avatar_url),L(e.data.message),I(e.data.id),A(!0)})).catch((function(e){console.error(e)})),C(""))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{className:"recommendations-input-container",onSubmit:V,children:[Object(u.jsx)("input",{type:"text",placeholder:"search user by name",value:x,onChange:function(e){return N(e.target.value)},className:"input-container-text-input"}),Object(u.jsx)("button",{className:"input-container-button",onClick:V,children:Object(u.jsx)("i",{className:"fas fa-user-alt"})})]}),Object(u.jsxs)("form",{className:"recommendations-input-container",onSubmit:R,children:[Object(u.jsx)("input",{type:"email",placeholder:"search user by email",value:S,onChange:function(e){return C(e.target.value)},className:"input-container-text-input"}),Object(u.jsx)("button",{className:"input-container-button",onClick:R,children:Object(u.jsx)("i",{className:"fas fa-at"})}),J&&Object(u.jsx)(_,{searchedUserAvatar:n,searchedUserName:r,searchedUserEmail:f,searchedUserId:D,usersInputInfo:F,followUser:e.followUser})]})]})},U=function(){var e=Object(s.useContext)(j),t=e.headerConfigAuth,a=e.followToggler,n=e.setFollowToggler,c=e.setDownbarDisplay,o=e.setDownbarContent,i=e.setSearchedUserTrigger,r=function(e){m.a.post("https://akademia108.pl/api/social-app/follows/follow",JSON.stringify({leader_id:e}),t).then((function(){n(!a),i(!1),c(!0),o("Follow has been added")})).catch((function(e){console.error(e)}))};return Object(u.jsxs)("div",{className:"dashboard-recommendations",children:[Object(u.jsxs)("h3",{className:"recommendations-header",children:["You may follow",Object(u.jsx)("i",{className:"fas fa-users recommendations-header-icon"})]}),Object(u.jsx)(L,{followUser:r}),Object(u.jsxs)("h3",{className:"recommendations-header",children:["Social Club",Object(u.jsx)("i",{className:"fas fa-icons recommendations-header-icon"})]}),Object(u.jsx)(E,{followUser:r})]})},J=function(){return Object(u.jsxs)("aside",{className:"dashboard",children:[Object(u.jsx)(F,{}),Object(u.jsx)(U,{})]})},A=(a(79),a(80),function(e){return Object(u.jsx)("div",{className:e.isVisible?"preloader-container preloader-active":"preloader-container",children:Object(u.jsx)("div",{className:"preloader"})})}),V=function(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useContext)(j),i=o.isLogged,r=o.headerConfigAuth,d=o.setDownbarContent,b=o.setDownbarDisplay,p=o.confirmationDisplay,f=o.postId,h=o.postToggler,O=o.followToggler,g=o.setFollowToggler;Object(s.useEffect)((function(){m.a.post("https://akademia108.pl/api/social-app/post/latest",JSON.stringify(),r).then((function(e){c(e.data)})).catch((function(e){console.error(e)}))}),[h,O,i]);Object(s.useEffect)((function(){var t;e.isVisible&&n.length>0&&(t=n[n.length-1].created_at,m.a.post("https://akademia108.pl/api/social-app/post/older-then",JSON.stringify({date:t}),r).then((function(e){c(n.concat(e.data))})).catch((function(e){console.error(e)})))}),[e.isVisible]);return Object(u.jsxs)("main",{className:i?"post post-logged":"post",children:[Object(u.jsxs)("ul",{className:i?"post-list post-list-logged":"post-list",children:[n.map((function(e){return Object(u.jsxs)("li",{className:"post-list-item",children:[Object(u.jsxs)("div",{className:"post-author",children:[Object(u.jsx)("img",{src:e.user.avatar_url,alt:"user_avatar",className:"post-author-img"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"post-author-name",children:e.user.username}),Object(u.jsx)("span",{className:"post-author-email",children:e.user.email})]}),i&&e.user.username!==localStorage.getItem("name")&&Object(u.jsx)("div",{className:"unfollow-icon",onClick:function(){var t;t=e.user.id,m.a.post("https://akademia108.pl/api/social-app/follows/disfollow",JSON.stringify({leader_id:t}),r).then((function(e){g(!O),b(!0),d("Follow has been removed")})).catch((function(e){console.error(e)}))},tabIndex:"0",children:Object(u.jsx)("i",{className:"fas fa-minus"})}),Object(u.jsx)(D,{post:e})]}),Object(u.jsx)("p",{className:"post-content",children:e.content}),Object(u.jsx)(k,{post:e})]},e.id)})),p&&Object(u.jsx)("aside",{className:"popup-background",children:Object(u.jsx)(I,{postId:f})})]}),Object(u.jsx)(A,{isVisible:e.isVisible})]})},R=(a(81),function(){var e=Object(s.useContext)(j).downbarContent;return Object(u.jsx)("aside",{className:e.includes("added")||e.includes("in")||e.includes("up")?"downbar-container downbar-bg-green":"downbar-container downbar-bg-orange",children:Object(u.jsx)("p",{className:"downbar-content",children:e})})}),B=Object(b.g)((function(e){var t=e.history;return Object(s.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[t]),null})),W=function(){var e=function(e){var t=Object(s.useState)(null),a=Object(l.a)(t,2),n=a[0],c=a[1],o=Object(s.useState)(!1),i=Object(l.a)(o,2),r=i[0],u=i[1];return Object(s.useEffect)((function(){var t=new IntersectionObserver((function(e){var t=Object(l.a)(e,1)[0];u(t.isIntersecting)}),e);return n&&t.observe(n),function(){n&&t.unobserve(n)}}),[n,e]),[c,r]}({threshold:.9}),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useContext)(j),o=c.isLogged,i=c.loginDisplay,d=c.setLoginDisplay,p=c.downbarDisplay,m=c.setDownbarDisplay;return Object(s.useEffect)((function(){var e=setTimeout((function(){(!o&&window.location.href.endsWith("react-social-app/")||!o&&window.location.href.endsWith("react-social-app"))&&d(!0)}),5e3);return function(){return clearTimeout(e)}}),[o]),Object(s.useEffect)((function(){var e=setTimeout((function(){p&&m(!1)}),1500);return function(){return clearTimeout(e)}}),[p]),Object(u.jsxs)("div",{className:"social-app-container",children:[Object(u.jsx)("header",{className:"header-container",children:Object(u.jsx)("h1",{className:"header",children:Object(u.jsxs)(r.b,{className:"header-link",to:"/react-social-app/",children:["Social Club",Object(u.jsx)("i",{className:"fas fa-icons header-link-icon"})]})})}),Object(u.jsx)(B,{}),Object(u.jsxs)(b.d,{children:[Object(u.jsxs)(b.b,{exact:!0,path:"/react-social-app/",children:[Object(u.jsx)(f,{}),o&&Object(u.jsx)(J,{}),Object(u.jsx)(V,{isVisible:n})]}),Object(u.jsxs)(b.b,{path:"/react-social-app/login",component:g,children:[Object(u.jsx)(f,{}),Object(u.jsx)(g,{})]}),Object(u.jsxs)(b.b,{path:"/react-social-app/signup",component:N,children:[Object(u.jsx)(f,{}),Object(u.jsx)(N,{})]}),Object(u.jsxs)(b.b,{path:"/react-social-app/followed",component:v,children:[Object(u.jsx)(f,{}),Object(u.jsx)(v,{})]})]}),i&&Object(u.jsx)("aside",{className:"popup-background",children:Object(u.jsx)(g,{})}),Object(u.jsx)("footer",{className:"footer-container",ref:a,children:Object(u.jsxs)("p",{children:["Social Club",Object(u.jsx)("i",{className:"far fa-copyright footer-icon"}),"2021"]})}),p&&Object(u.jsx)(R,{})]})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(d,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(W,{})})})}),document.getElementById("root")),i()}},[[82,1,2]]]);
//# sourceMappingURL=main.e74a9164.chunk.js.map